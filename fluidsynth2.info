Info4: <<
Package: fluidsynth2
Version: 2.1.1
Revision:1
###
Depends: <<
	%N-shlibs (= %v-%r),
	glib2-shlibs (>= 2.22.4-9),
	libgettext8-shlibs (>=0.20.1-1),
	libsndfile1-shlibs (>= 1.0.28-1),
	readline7-shlibs (>= 7.0.p15-2),
	sdl2-shlibs (>= 2.0.10-2),
	ladspa (>= 1.13-1)
<<
###
BuildDepends: <<
	cmake (>=3.16.2-1),
	fink-package-precedence,
	glib2-dev (>=2.22.4-9),
	libgettext8-dev(>=0.20.1-1),
	libsndfile1-dev (>= 1.0.28-1),
	pkgconfig (>= 0.29.2-1),
	readline7 (>= 7.0.p15-2),
	ladspa-dev (>= 1.13-1),
	sdl2 (>= 2.0.10-2)
<<
Conflicts: fluidsynth, fluidsynth1, fluidsynth2
Replaces: fluidsynth, fluidsynth1, fluidsynth2
###
Source: https://github.com/FluidSynth/fluidsynth/archive/v2.1.1.tar.gz
Source-md5: 165902909092c818a24517de6a4f2f83
SourceRename: fluidsynth-%v.tar.gz
PatchScript: <<
 perl -pi -e 's/\${LIB_SUFFIX}//' CMakeLists.txt src/CMakeLists.txt
 <<
CompileScript: <<
 #!/bin/sh -ev
 %p/bin/cmake \
  -Denable-dbus=0 \
  -Denable-jack=0 \
  -Denable-pulseaudio=0 \
  -DCMAKE_INSTALL_PREFIX=%p \
  -DCMAKE_C_FLAGS="-fno-common -fPIC -MD" \
  -DLIB_SUFFIX="" \
  -Denable-framework:BOOL=OFF \
  -DREADLINE_INCLUDE_DIR:PATH=%p/include \
  -DREADLINE_LIBRARIES:FILEPATH=%p/lib/libreadline.dylib \
  .
 /usr/bin/make
 fink-package-precedence --depfile-ext='\.d' --prohibit-bdep=fluidsynth-dev,fluidsynth1-dev .
<<
###
InstallScript: <<
#! /bin/sh -ev
make install DESTDIR=%d 
<<
SplitOff: <<
 Package: %N-shlibs
 Depends: <<
  glib2-shlibs (>= 2.22.0-1),
  libgettext8-shlibs (>=0.20.1-1),
  libsndfile1-shlibs (>= 1.0.28-1),
  readline7-shlibs (>= 7.0.p15-2)
 <<
 Files: lib/libfluidsynth.*.dylib
 Shlibs: %p/lib/libfluidsynth.2.dylib 2.0.0 %n (>= 2.1.1-1)
 DocFiles: README.md README.cmake.md
<<
SplitOff2: <<
 Package: %N-dev
 Depends: %N-shlibs
 Files: include lib
 DocFiles: README.md README.cmake.md
 BuildDependsOnly: True
 Conflicts: fluidsynth-dev, fluidsynth1-dev, fluidsynth2-dev
 Replaces: fluidsynth-dev, fluidsynth1-dev, fluidsynth2-dev
<<
###
DocFiles: README.md 
###
HomePage: http://fluidsynth.org
License: LGPL
###
Description: Software synthesizer with Soundfont 2 specs
DescDetail: <<
Fluidsynth is a free software synthesizer which is currently based on the
SoundFont standard and supports real time MIDI effect controls. It can be 
used as a shared library for embedding in other applications, can play MIDI 
files and has a command line shell. Many other applications use FluidSynth 
for audio synthesis. 
<<
DescUsage: <<
To properly link to fluidsynth2, packages that do not use 
the standard pkg-config system will need to set some combination
of CFLAGS, LDFLAGS, or similar compiler flags to point to
%p/lib/%N/(include/lib).
<<
DescPackaging: <<
Disabled D-Bus support: It only is used to interact with rtkit / RealtimeKit,
a Linux-only system service. In other words: On Mac OS X, it did nothing
useful at all.
<<
###
Maintainer: Ebrahim Mayat <emayat@users.sourceforge.net>
<<
